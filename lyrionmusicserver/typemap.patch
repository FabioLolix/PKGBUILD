39,43c39,41
< 	if (!(SvROK ($arg) && SvOBJECT (SvRV ($arg))
<               && (SvSTASH (SvRV ($arg)) == stash_" . ($type =~ /ev_(\S+)/, "$1") . "
<                   || sv_derived_from ($arg, \"EV::" . ($type =~ /ev_(\S+)/, ucfirst "$1") . "\"))))
<           croak (\"object is not of type EV::" . ($type =~ /ev_(\S+)/, ucfirst "$1") . "\");
< 	$var = ($type)SvPVX (SvRV ($arg));
---
>     if (!(SvROK($arg) && SvOBJECT(SvRV($arg)) && sv_derived_from($arg, \"EV::Watcher\")))
>         croak(\"$var is not of type EV::Watcher\");
>     $var = ($type)SvPVX(SvRV($arg));
